<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡™µ‡™ø‡™∞‡™§‡´Ä ‡™ú‡´à‡™® ‡™ú‡´ç‡™û‡™æ‡™®‡™∂‡™æ‡™≤‡™æ - Student Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
            outline: none;
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .filter-select {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            min-width: 200px;
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            border-color: #667eea;
            outline: none;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(86, 171, 47, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 8px 16px;
            font-size: 14px;
        }

        .btn-danger:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-edit {
            background: linear-gradient(135deg, #ffa726, #fb8c00);
            color: white;
            padding: 8px 16px;
            font-size: 14px;
        }

        .btn-edit:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(255, 167, 38, 0.4);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid rgba(102, 126, 234, 0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 1.1rem;
        }

        .table-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        tbody tr {
            transition: all 0.3s ease;
        }

        tbody tr:hover {
            background: rgba(102, 126, 234, 0.05);
            transform: scale(1.01);
        }

        .gender-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .gender-male {
            background: rgba(33, 150, 243, 0.2);
            color: #1976d2;
        }

        .gender-female {
            background: rgba(233, 30, 99, 0.2);
            color: #c2185b;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #000;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
            outline: none;
        }

        .teacher-section {
            background: linear-gradient(135deg, rgba(86, 171, 47, 0.1), rgba(168, 230, 207, 0.1));
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #56ab2f;
        }

        .teacher-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #56ab2f;
            margin-bottom: 15px;
        }

        .no-results {
            text-align: center;
            padding: 50px;
            color: #666;
            font-size: 1.2rem;
        }

        .birthday-table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
        }

        .birthday-table th, .birthday-table td {
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
            text-align: left;
        }

        .birthday-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }

            .search-box {
                min-width: 100%;
            }

            table {
                font-size: 14px;
            }

            th, td {
                padding: 10px 8px;
            }

            .btn {
                padding: 8px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‡™µ‡™ø‡™∞‡™§‡´Ä ‡™ú‡´à‡™® ‡™ú‡´ç‡™û‡™æ‡™®‡™∂‡™æ‡™≤‡™æ</h1>
            <p class="subtitle">Student Management System</p>
        </header>

        <div class="main-content">
            <div class="controls">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search by name, roll number, or phone..." aria-label="Search students">
                    <span class="search-icon" aria-hidden="true">üîç</span>
                </div>
                <select id="teacherFilter" class="filter-select" aria-label="Filter by teacher">
                    <option value="">All Teachers</option>
                </select>
                <select id="genderFilter" class="filter-select" aria-label="Filter by gender">
                    <option value="">All Students</option>
                    <option value="male">Boys Only</option>
                    <option value="female">Girls Only</option>
                </select>
                <button class="btn btn-primary" onclick="studentManager.showUpcomingBirthdays()">üéÇ Upcoming Birthdays</button>
                <button class="btn btn-primary" onclick="studentManager.openAddModal()">Add Student</button>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalStudents">0</div>
                    <div class="stat-label">Total Students</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalBoys">0</div>
                    <div class="stat-label">Boys</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalGirls">0</div>
                    <div class="stat-label">Girls</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalTeachers">0</div>
                    <div class="stat-label">Teachers</div>
                </div>
            </div>

            <div class="table-container">
                <div id="studentsContainer"></div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Student Modal -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="studentManager.closeModal()" role="button" aria-label="Close modal">√ó</span>
            <h2 id="modalTitle">Add New Student</h2>
            <form id="studentForm">
                <div class="form-group">
                    <label for="rollNo">Roll Number:</label>
                    <input type="text" id="rollNo" required aria-required="true">
                </div>
                <div class="form-group">
                    <label for="studentName">Student Name:</label>
                    <input type="text" id="studentName" required aria-required="true">
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Phone Number:</label>
                    <input type="tel" id="phoneNumber" pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number">
                </div>
                <div class="form-group">
                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob" required aria-required="true">
                </div>
                <div class="form-group">
                    <label for="teacherName">Teacher Name:</label>
                    <select id="teacherName" required aria-required="true">
                        <option value="">Select Teacher</option>
                        <option value="‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä">‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä</option>
                        <option value="‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π">‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π</option>
                        <option value="‡™Ö‡™≤‡´ç‡™™‡™æ ‡™¨‡´á‡™® ‡™ß‡™∞‡´ã‡™°">‡™Ö‡™≤‡´ç‡™™‡™æ ‡™¨‡´á‡™® ‡™ß‡™∞‡´ã‡™°</option>
                        <option value="NO TEACHER">NO TEACHER</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success">Save Student</button>
            </form>
        </div>
    </div>

    <!-- Upcoming Birthdays Modal -->
    <div id="birthdayModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="studentManager.closeBirthdayModal()" role="button" aria-label="Close birthday modal">√ó</span>
            <h2>Upcoming Birthdays (Next 7 Days)</h2>
            <div id="birthdayList"></div>
        </div>
    </div>

    <script>
        // Student Management Module
        const studentManager = {
            students: [
                { rollNo: '86', name: 'Aarav Ankitbhai Kothari', phone: '9429204495', dob: '06/10/2009', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '137', name: 'Garvit Ganpatbhai Shah', phone: '9998844938', dob: '05/12/2016', teacher: '‡™ú‡™ØÔøΩ ‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '91', name: 'Vivan Mananbhai Shah', phone: '9904524250', dob: '12/12/2016', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '99', name: 'Parav Vishalbhai Seth', phone: '9712973814', dob: '12/09/2018', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '122', name: 'Riyansh Ankitbhai Ajmera', phone: '7984822056', dob: '03/09/2019', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '54', name: 'Riyansh Rakeshbhai Kothari', phone: '9429389175', dob: '21/08/2015', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '113', name: 'Param Kiranbhai Dabhi', phone: '9724396109', dob: '21/11/2011', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '82', name: 'Jainish Devangbhai Maheta', phone: '9924449872', dob: '26/05/2016', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '77', name: 'Rivan Ravikumar Vora', phone: '9904385988', dob: '28/05/2018', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '87', name: 'Vivan Umangbhai Vora', phone: '9016928269', dob: '31/03/2017', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '81', name: 'Yug Rajanbhai Maheta', phone: '9925403406', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '128', name: 'Aarav Pritambhai Kothari', phone: '6354780835', dob: '03/02/2020', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '151', name: 'Atharv Vishalbhai Sheth', phone: '9712973814', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: '113', name: 'Vishva Jaydeep Kothari', phone: '8980807148', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'male' },
                { rollNo: 'G78', name: 'Yashwi Krunalbhai Vora', phone: '8401287081', dob: '14/04/2017', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G82', name: 'Jiya Devangbhai Maheta', phone: '9924449872', dob: '26/05/2016', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G95', name: 'Vihana Keyur Sanghavi', phone: '9909709450', dob: '26/05/2017', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G97', name: 'Pihu Nirmalbhai Dodhiwala', phone: '8734013030', dob: '15/07/2013', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G100', name: 'Jiya Ketanbhai Laktariya', phone: '7777921604', dob: '02/05/2013', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G101', name: 'Aaradhya Kiranbhai Dhabhi', phone: '9724396109', dob: '18/12/2018', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G103', name: 'Misthi Ronakbhai Thosani', phone: '9527224007', dob: '11/02/2017', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G130', name: 'Hiyanshi Shrenik Shah', phone: '9558574978', dob: '21/07/2020', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G121', name: 'Khanika Keyurbhai Doshi', phone: '', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G127', name: 'Viha Sanny Bhai Doshi', phone: '', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G135', name: 'Baani Niravbhai Shah', phone: '8866614421', dob: '30/11/2020', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G132', name: 'Mahi Jitendra Jain', phone: '9409544767', dob: '31/08/2016', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G131', name: 'Kevlya Hardikbhai Bhavsar', phone: '', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G86', name: 'Yashvi Deepbhai Dosi', phone: '', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G107', name: 'Swara Kaushal Shah', phone: '9586252120', dob: '', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G144', name: 'Garvita Jain', phone: '8128596353', dob: '25/03/2017', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G146', name: 'Laxita Jain', phone: '7300386353', dob: '28/06/2019', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: 'G143', name: 'Ravya Ravi Bhavsar', phone: '9558758800', dob: '13/06/2019', teacher: '‡™ú‡™Ø‡™¶‡´Ä‡™™‡™≠‡™æ‡™á ‡™ï‡´ã‡™†‡™æ‡™∞‡´Ä', gender: 'female' },
                { rollNo: '1131', name: 'Keval Niranjanbhai Dagli', phone: '9427042088', dob: '06/12/2006', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '217', name: 'Mann Nileshbhai Khandhar', phone: '9824029060', dob: '08/12/2009', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '327', name: 'Rushabh Manishbhai Khandhar', phone: '9898862585', dob: '12/12/2009', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '431', name: 'Jaival Sachinbhai Shah', phone: '9428991213', dob: '10/09/2011', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '555', name: 'Manav Sachinbhai Kothari', phone: '9925031766', dob: '03/04/2012', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '646', name: 'Dharya Nisithbhai Gosliya', phone: '9327622228', dob: '06/06/2012', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '710', name: 'Priyank Mauleshbhai Shah', phone: '9428603117', dob: '14/08/2010', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '811', name: 'Dev Amitbhai Belani', phone: '7359513140', dob: '15/09/2008', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '926', name: 'Darsh Saurinbhai Shah', phone: '9825069332', dob: '18/10/2012', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '1015', name: 'Sayam Vinodbhai Jain', phone: '9033980755', dob: '19/11/2007', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '1174', name: 'Dev Dineshbhai Kothari', phone: '9328655171', dob: '28/09/2004', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '12144', name: 'Aman Dhirendrabhai Gopani', phone: '9558354713', dob: '29/10/2012', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '13124', name: 'Nisarg Nimeshbhai Shah', phone: '', dob: '', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '14127', name: 'Manav Vimleshbhai Shah', phone: '8849192478', dob: '19/02/2000', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '15112', name: 'Devam Sanjaybhai Shah', phone: '9426402126', dob: '27/09/2004', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '1642', name: 'Maitrik Nirajkumar Gosaliya', phone: '8971157700', dob: '30/08/2008', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: '1718', name: 'Nisarg Nimeshkumar Shah', phone: '8460181063', dob: '08/12/2007', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'male' },
                { rollNo: 'G3', name: 'Diya Yogeshbhai Khandhar', phone: '8490894850', dob: '24/07/2008', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G4', name: 'Hetvi Mittalbhai Shah', phone: '9904045577', dob: '13/04/2008', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G5', name: 'Riya Saurabhbhai Shah', phone: '9727710049', dob: '03/05/2007', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G9', name: 'Hardika Dineshbhai Kothari', phone: '8000766171', dob: '', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G14', name: 'Angi Mineshkumar Vora', phone: '9824920771', dob: '08/10/2006', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G17', name: 'Jiya Viragbhai Maheta', phone: '9714330017', dob: '', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G18', name: 'Dhruvi Yogeshbhai Khandhar', phone: '8490894850', dob: '19/04/2006', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G25', name: 'Pranshi Mayankkumar Khandhar', phone: '9725201434', dob: '01/12/2010', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G56', name: 'Dhanvi Rachitkumar Shah', phone: '9375428777', dob: '06/03/2012', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G57', name: 'Aarna Kaushalbhai Shah', phone: '9586252120', dob: '03/09/2015', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G72', name: 'Labdhi Miteshkumar Vora', phone: '9824920771', dob: '04/04/2003', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: 'G134', name: 'Meshva Dhirendrabhai Gopani', phone: '9558354713', dob: '05/10/2010', teacher: '‡™≠‡™æ‡™µ‡™ø‡™® ‡™≠‡™æ‡™á ‡™∂‡™æ‡™π', gender: 'female' },
                { rollNo: '168', name: 'Kriyansh Himanshubhai Khandhar', phone: '9909927149', dob: '11/08/2015', teacher: '‡™Ö‡™≤‡´ç‡™™‡™æ ‡™¨‡´á‡™® ‡™ß‡™∞‡´ã‡™°', gender: 'male' },
                { rollNo: '2115', name: 'Bhavya Amitbhai Shah', phone: '9099939877', dob: '25/12/2011', teacher: '‡™Ö‡™≤‡´ç‡™™‡™æ ‡™¨‡´á‡™® ‡™ß‡™∞‡´ã‡™°', gender: 'male' },
                { rollNo: '369', name: 'Samyak Sanketbhai Vasani', phone: '8128124410', dob: '27/11/2015', teacher: '‡™Ö‡™≤‡´ç‡™™‡™æ ‡™¨‡´á‡™® ‡™ß‡™∞‡´ã‡™°', gender: 'male' },
                { rollNo: '4118', name: 'Praksh Maheshbhai Jain', phone: '7801816530', dob: '', teacher: '‡™Ö‡™≤‡´ç‡™™‡™æ ‡™¨‡´á‡™® ‡™ß‡™∞‡´ã‡™°', gender: 'male' },
                { rollNo: '94', name: 'Raual Birenbhai Shah', phone: '9825005041', dob: '10/10/2010', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '75', name: 'Harsh Viralkumar Maheta', phone: '9898099811', dob: '03/07/2011', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '130', name: 'Aagam Amitkukar Vora', phone: '9879085554', dob: '01/10/2012', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '9', name: 'Hamya Krunalbhai Shah', phone: '9033099707', dob: '06/03/2012', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '98', name: 'Het Krunalbhai Jodhani', phone: '8200759802', dob: '05/08/2012', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '25', name: 'Sumit Jigneshbhai Shah', phone: '9825069332', dob: '12/11/2013', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '65', name: 'Namya Darshitbhai Shah', phone: '9574594186', dob: '12/03/2015', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '140', name: 'Kiyan Sumitbhai Sanghavi', phone: '9998802167', dob: '11/04/2019', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '108', name: 'Jinay Parasbhai Shah', phone: '9586964525', dob: '15/12/2015', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '20', name: 'Vir Miteshbhai Vora', phone: '9427263796', dob: '16/10/2011', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '138', name: 'Anay Lalitkumar Jain', phone: '8319194885', dob: '17/08/2014', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '107', name: 'Vivan Darshanbhai Shah', phone: '8980446069', dob: '18/02/2013', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '48', name: 'Subh Devangbhai Desai', phone: '9313668435', dob: '18/12/2012', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '117', name: 'Dvij Krunalbhai Rupera', phone: '9909222208', dob: '19/09/2013', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '116', name: 'Parva Parasbhai Shah', phone: '8530573439', dob: '20/04/2016', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '119', name: 'Subh Pratikbhai Panchal', phone: '7802921175', dob: '22/09/2018', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '134', name: 'Jiyansh Jineshkukar Shah', phone: '9016270514', dob: '23/05/2019', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '33', name: 'Ridham Atulbhai Dagli', phone: '8401408620', dob: '23/02/2010', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '96', name: 'Kavan Apurvbhai Shah', phone: '9429727587', dob: '29/01/2018', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '109', name: 'Devam Miteshbhai Lakhtariya', phone: '7801922603', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '120', name: 'Bhavit Tejas Daftari', phone: '7567351115', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '88', name: 'Aarav Hareshbhai Jasvani', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '95', name: 'Ved Chintanbhai Darji', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '123', name: 'Derya Ashishbhai Shah', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '129', name: 'Rian Nikesh Sheth', phone: '9898072778', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '133', name: 'Jiyansh Jinesh Shah', phone: '9016270514', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: '136', name: 'Parshv Prajesh Dadiya', phone: '9924399764', dob: '', teacher: 'NO TEACHER', gender: 'male' },
                { rollNo: 'G12', name: 'Hetvi Parasbhai Sanghvi', phone: '9978928940', dob: '27/08/2011', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G13', name: 'Mihika Jigneshbhai Shah', phone: '9825069332', dob: '25/04/2010', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G31', name: 'Angi Malaybhai Shah', phone: '9998478574', dob: '26/08/2013', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G33', name: 'Sanvi Darshitbhai Shah', phone: '9898772517', dob: '28/04/2010', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G37', name: 'Hiyanshi Vishalbhai Jaswani', phone: '8460436369', dob: '12/02/2014', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G38', name: 'Krisha Devangbhai Desai', phone: '8169724908', dob: '27/01/2010', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G40', name: 'Rutvi Ketankumar Shah', phone: '7041810313', dob: '09/03/2007', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G42', name: 'Manya Aksaybhai Doshi', phone: '9925731131', dob: '03/05/2013', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G44', name: 'Labdhi Parasbhai Gosaliya', phone: '9376367668', dob: '19/01/2013', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G54', name: 'Kayara Pratikkumar Doshi', phone: '9913176022', dob: '27/03/2015', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G55', name: 'Prisha Nikhilbhai Gandhi', phone: '9427953024', dob: '03/09/2008', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G58', name: 'Niyati Riteshkumar Bhimani', phone: '7778049060', dob: '15/12/2009', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G73', name: 'Kruti Hardhikbhai Somani', phone: '8511709890', dob: '19/10/2011', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G74', name: 'Jinal Darshrathbha Gohil', phone: '9054953409', dob: '16/07/2012', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G76', name: 'Yashwi Milanbhai Salot', phone: '8866710078', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G83', name: 'Dhayana Kavitbhai Shah', phone: '9737770660', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G87', name: 'Jaini Vimalbhai Mehta', phone: '9924516370', dob: '08/11/2016', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G89', name: 'Jinanshi Umangbhai Jodhani', phone: '8200759802', dob: '23/03/2017', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G90', name: 'Vama Keyurbhai Seth', phone: '9825064394', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G91', name: 'Veli Keyurbhai Seth', phone: '9825064394', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G93', name: 'Netra Ankitbhai Modi', phone: '9601070800', dob: '01/01/2011', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G99', name: 'Diti Parthikbhai Shah', phone: '9586619278', dob: '04/07/2010', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G105', name: 'Vanshi Kapilbhai Shah', phone: '7984862690', dob: '20/07/2017', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G108', name: 'Hir Maulikbhai Maheta', phone: '9727572611', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G109', name: 'Mahi Maulikbhai Maheta', phone: '9727572611', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G110', name: 'Pahal Maheshbhai Jain', phone: '9801816530', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G111', name: 'Aayushi Vipulbhai Darji', phone: '9099192856', dob: '02/10/2012', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G8', name: 'Bhumi Rajubhai Shah', phone: '9428441297', dob: '31/05/2010', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G117', name: 'Saini Atulbhai Dagali', phone: '8401408620', dob: '26/09/2007', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G28', name: 'Nirava Harshesh Jashvani', phone: '8460436369', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G70', name: 'Shiya Mitalbhai Shah', phone: '9904045577', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G85', name: 'Aarvi Niravbhai Shah', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G27', name: 'Hiya Sumitbhai Sanghvi', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G114', name: 'Nishra Bhavinbhi Umraniya', phone: '9974209092', dob: '27/11/2019', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G118', name: 'Dhyana Ridheshbhai Shah', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G119', name: 'Rutvi Tejasbhai Bhavsar', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G120', name: 'Simoli Niranganbhai Dagli', phone: '8401408653', dob: '06/12/2008', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G122', name: 'Adhya Dhavalbhai Panchal', phone: '9712514777', dob: '13/11/2018', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G126', name: 'Aneri Parag Bhai Shah', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G123', name: 'Kriya Bhavya Seth', phone: '8849781731', dob: '19/01/2019', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G125', name: 'Jinanshi Milan Bhai Shah', phone: '9316481379', dob: '24/05/2019', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G124', name: 'Dipti Pratikbhai Shah', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G133', name: 'Dhavni Parasbhai Sanghvi', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G129', name: 'Niyati Dasrathhai Parmar', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G128', name: 'Drisha Sauravbhai Khatkiya', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G138', name: 'Dhairavi Bhavik Shah', phone: '9730363561', dob: '13/10/2021', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G137', name: 'Archi Rajanbhai Maheta', phone: '9714885505', dob: '14/10/2011', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G102', name: 'Naysha A Shah', phone: '9265488157', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G98', name: 'Mahek C Shah', phone: '9594571780', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G139', name: 'Jivika Manthanbhai Shah', phone: '9998448566', dob: '02/04/2016', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G140', name: 'Prince Kaushalbhai Shah', phone: '9687984584', dob: '18/09/2020', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G88', name: 'Krisha Kaushal Shah', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G141', name: 'Moksha Chiragkumar Sanghvi', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G142', name: 'Sardhha Dhirubhai', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G149', name: 'Nirva H Jaswani', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G147', name: 'Riva Jain', phone: '', dob: '', teacher: 'NO TEACHER', gender: 'female' },
                { rollNo: 'G148', name: 'Mayra Bhavinbhai Shah', phone: '9510159823', dob: '', teacher: 'NO TEACHER', gender: 'female' }
            ],
            currentEditIndex: -1,

            // Initialize the application
            init() {
                this.populateTeacherFilter();
                this.renderStudents();
                this.updateStats();
                this.setupEventListeners();
            },

            // Setup event listeners
            setupEventListeners() {
                document.getElementById('searchInput').addEventListener('input', () => this.filterStudents());
                document.getElementById('teacherFilter').addEventListener('change', () => this.filterStudents());
                document.getElementById('genderFilter').addEventListener('change', () => this.filterStudents());
                document.getElementById('studentForm').addEventListener('submit', (e) => this.saveStudent(e));

                // Close modals on outside click
                window.addEventListener('click', (event) => {
                    if (event.target === document.getElementById('studentModal')) {
                        this.closeModal();
                    }
                    if (event.target === document.getElementById('birthdayModal')) {
                        this.closeBirthdayModal();
                    }
                });
            },

            // Populate teacher filter dropdown
            populateTeacherFilter() {
                const teacherFilter = document.getElementById('teacherFilter');
                const teachers = [...new Set(this.students.map(s => s.teacher))];
                teacherFilter.innerHTML = '<option value="">All Teachers</option>';
                teachers.forEach(teacher => {
                    const option = document.createElement('option');
                    option.value = teacher;
                    option.textContent = teacher;
                    teacherFilter.appendChild(option);
                });
            },

            // Update statistics
            updateStats() {
                const total = this.students.length;
                const boys = this.students.filter(s => s.gender === 'male').length;
                const girls = this.students.filter(s => s.gender === 'female').length;
                const teachers = [...new Set(this.students.map(s => s.teacher))].length;

                document.getElementById('totalStudents').textContent = total;
                document.getElementById('totalBoys').textContent = boys;
                document.getElementById('totalGirls').textContent = girls;
                document.getElementById('totalTeachers').textContent = teachers;
            },

            // Filter students based on search and filters
            filterStudents() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                const teacherFilter = document.getElementById('teacherFilter').value;
                const genderFilter = document.getElementById('genderFilter').value;

                const filtered = this.students.filter(student => {
                    const matchesSearch = student.name.toLowerCase().includes(searchTerm) ||
                                        student.rollNo.toLowerCase().includes(searchTerm) ||
                                        student.phone.includes(searchTerm);
                    const matchesTeacher = !teacherFilter || student.teacher === teacherFilter;
                    const matchesGender = !genderFilter || student.gender === genderFilter;
                    return matchesSearch && matchesTeacher && matchesGender;
                });

                this.renderStudents(filtered);
            },

            // Render students table
            renderStudents(studentsToRender = this.students) {
                const container = document.getElementById('studentsContainer');

                if (studentsToRender.length === 0) {
                    container.innerHTML = '<div class="no-results">No students found matching your criteria.</div>';
                    return;
                }

                const groupedStudents = studentsToRender.reduce((acc, student) => {
                    acc[student.teacher] = acc[student.teacher] || [];
                    acc[student.teacher].push(student);
                    return acc;
                }, {});

                let html = `
                    <table>
                        <thead>
                            <tr>
                                <th>Roll No</th>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Date of Birth</th>
                                <th>Gender</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                `;

                Object.keys(groupedStudents).forEach(teacher => {
                    html += `<tr><td colspan="6" class="teacher-section"><div class="teacher-name">Teacher: ${teacher}</div></td></tr>`;
                    groupedStudents[teacher].forEach(student => {
                        const actualIndex = this.students.indexOf(student);
                        html += `
                            <tr>
                                <td>${student.rollNo}</td>
                                <td>${student.name}</td>
                                <td>${student.phone}</td>
                                <td>${student.dob}</td>
                                <td><span class="gender-badge gender-${student.gender}">${student.gender === 'male' ? 'Boy' : 'Girl'}</span></td>
                                <td>
                                    <button class="btn btn-edit" onclick="studentManager.editStudent(${actualIndex})" aria-label="Edit student ${student.name}">Edit</button>
                                    <button class="btn btn-danger" onclick="studentManager.deleteStudent(${actualIndex})" aria-label="Delete student ${student.name}">Delete</button>
                                </td>
                            </tr>
                        `;
                    });
                });

                html += '</tbody></table>';
                container.innerHTML = html;
            },

            // Show upcoming birthdays (considering only month and day)
            showUpcomingBirthdays() {
                const today = new Date();
                const nextWeek = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
                const birthdayList = document.getElementById('birthdayList');

                const upcomingBirthdays = this.students.filter(student => {
                    if (!student.dob) return false;
                    const dob = new Date(student.dob);
                    if (isNaN(dob.getTime())) return false; // Skip invalid dates

                    const dobDay = dob.getDate();
                    const dobMonth = dob.getMonth();

                    // Create date objects for this year and next year, ignoring the actual year
                    const birthdayThisYear = new Date(today.getFullYear(), dobMonth, dobDay);
                    const birthdayNextYear = new Date(today.getFullYear() + 1, dobMonth, dobDay);

                    // Check if birthday falls within the next 7 days
                    return (birthdayThisYear >= today && birthdayThisYear <= nextWeek) ||
                           (birthdayNextYear >= today && birthdayNextYear <= nextWeek);
                }).sort((a, b) => {
                    // Sort by month and day, ignoring year
                    const dateA = new Date(2000, new Date(a.dob).getMonth(), new Date(a.dob).getDate());
                    const dateB = new Date(2000, new Date(b.dob).getMonth(), new Date(b.dob).getDate());
                    return dateA - dateB;
                });

                let html = `
                    <table class="birthday-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Birthday</th>
                                <th>Phone</th>
                            </tr>
                        </thead>
                        <tbody>
                `;

                if (upcomingBirthdays.length === 0) {
                    html = '<div class="no-results">No birthdays in the next 7 days.</div>';
                } else {
                    upcomingBirthdays.forEach(student => {
                        const dob = new Date(student.dob);
                        const formattedDate = dob.toLocaleDateString('en-GB', {
                            day: '2-digit',
                            month: '2-digit'
                        });
                        html += `
                            <tr>
                                <td>${student.name}</td>
                                <td>${formattedDate}</td>
                                <td>${student.phone}</td>
                            </tr>
                        `;
                    });
                    html += '</tbody></table>';
                }

                birthdayList.innerHTML = html;
                document.getElementById('birthdayModal').style.display = 'block';
            },

            // Close birthday modal
            closeBirthdayModal() {
                document.getElementById('birthdayModal').style.display = 'none';
            },

            // Open add student modal
            openAddModal() {
                this.currentEditIndex = -1;
                document.getElementById('modalTitle').textContent = 'Add New Student';
                document.getElementById('studentForm').reset();
                document.getElementById('studentModal').style.display = 'block';
            },

            // Open edit student modal
            editStudent(index) {
                this.currentEditIndex = index;
                const student = this.students[index];

                document.getElementById('modalTitle').textContent = 'Edit Student';
                document.getElementById('rollNo').value = student.rollNo;
                document.getElementById('studentName').value = student.name;
                document.getElementById('phoneNumber').value = student.phone;
                document.getElementById('dob').value = student.dob;
                document.getElementById('teacherName').value = student.teacher;

                document.getElementById('studentModal').style.display = 'block';
            },

            // Close student modal
            closeModal() {
                document.getElementById('studentModal').style.display = 'none';
            },

            // Save student (add or edit)
            saveStudent(e) {
                e.preventDefault();

                const rollNo = document.getElementById('rollNo').value.trim();
                const name = document.getElementById('studentName').value.trim();
                const phone = document.getElementById('phoneNumber').value.trim();
                const dob = document.getElementById('dob').value;
                const teacher = document.getElementById('teacherName').value;

                // Validation
                if (!rollNo || !name || !dob || !teacher) {
                    alert('Please fill in all required fields.');
                    return;
                }

                if (phone && !/^\d{10}$/.test(phone)) {
                    alert('Please enter a valid 10-digit phone number.');
                    return;
                }

                // Check for duplicate roll number
                const isDuplicate = this.students.some((student, index) => 
                    student.rollNo === rollNo && index !== this.currentEditIndex
                );
                if (isDuplicate) {
                    alert('Roll number already exists. Please use a unique roll number.');
                    return;
                }

                const studentData = {
                    rollNo,
                    name,
                    phone,
                    dob,
                    teacher,
                    gender: rollNo.startsWith('G') ? 'female' : 'male'
                };

                if (this.currentEditIndex === -1) {
                    this.students.push(studentData);
                    alert('Student added successfully!');
                } else {
                    this.students[this.currentEditIndex] = studentData;
                    alert('Student updated successfully!');
                }

                this.renderStudents();
                this.updateStats();
                this.populateTeacherFilter();
                this.closeModal();
            },

            // Delete student
            deleteStudent(index) {
                if (confirm('Are you sure you want to delete this student?')) {
                    this.students.splice(index, 1);
                    this.renderStudents();
                    this.updateStats();
                    this.populateTeacherFilter();
                    alert('Student deleted successfully!');
                }
            }
        };

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', () => studentManager.init());
    </script>
</body>
</html>
